"use strict";(self.webpackChunkflashbot_docs=self.webpackChunkflashbot_docs||[]).push([[7619],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return b}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),h=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=h(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=h(a),b=o,p=d["".concat(l,".").concat(b)]||d[b]||u[b]||i;return a?n.createElement(p,s(s({ref:t},c),{},{components:a})):n.createElement(p,s({ref:t},c))}));function b(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,s=new Array(i);s[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:o,s[1]=r;for(var h=2;h<i;h++)s[h]=a[h];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},1602:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return r},contentTitle:function(){return l},metadata:function(){return h},toc:function(){return c},default:function(){return d}});var n=a(7462),o=a(3366),i=(a(7294),a(3905)),s=["components"],r={title:"FAQ"},l=void 0,h={unversionedId:"flashbots-auction/searchers/faq",id:"flashbots-auction/searchers/faq",isDocsHomePage:!1,title:"FAQ",description:"Check Flashbots Discord #release channel for the latest releases.",source:"@site/docs/flashbots-auction/searchers/faq.md",sourceDirName:"flashbots-auction/searchers",slug:"/flashbots-auction/searchers/faq",permalink:"/flashbots-auction/searchers/faq",tags:[],version:"current",frontMatter:{title:"FAQ"},sidebar:"docs",previous:{title:"quick start",permalink:"/flashbots-auction/searchers/quick-start"},next:{title:"understanding bundles",permalink:"/flashbots-auction/searchers/advanced/understanding-bundles"}},c=[{value:"What is Flashbots Auction?",id:"what-is-flashbots-auction",children:[]},{value:"Who is behind Flashbots Auction?",id:"who-is-behind-flashbots-auction",children:[]},{value:"How is Flashbots funded?",id:"how-is-flashbots-funded",children:[]},{value:"What is the Flashbots Auction roadmap?",id:"what-is-the-flashbots-auction-roadmap",children:[]},{value:"Where can I submit a feature request?",id:"where-can-i-submit-a-feature-request",children:[]},{value:"Can you give a step by step description of how Flashbots works for a searcher today?",id:"can-you-give-a-step-by-step-description-of-how-flashbots-works-for-a-searcher-today",children:[]},{value:"Why use Flashbots Auction?",id:"why-use-flashbots-auction",children:[]},{value:"How much hashrate is currently on Flashbots Auction?",id:"how-much-hashrate-is-currently-on-flashbots-auction",children:[]},{value:"Can I send bundles directly to miners without going through the Relay?",id:"can-i-send-bundles-directly-to-miners-without-going-through-the-relay",children:[]},{value:"Where are the Relay servers located?",id:"where-are-the-relay-servers-located",children:[]},{value:"What are examples of Flashbots transactions?",id:"what-are-examples-of-flashbots-transactions",children:[]},{value:"What level of transparency do you provide into how this infrastructure works?",id:"what-level-of-transparency-do-you-provide-into-how-this-infrastructure-works",children:[]},{value:"Can Flashbots Auction be used concurrently with the regular Ethereum tx pool?",id:"can-flashbots-auction-be-used-concurrently-with-the-regular-ethereum-tx-pool",children:[]},{value:"Is Flashbots Auction a race to maximize miners profits and minimize searcher profits?",id:"is-flashbots-auction-a-race-to-maximize-miners-profits-and-minimize-searcher-profits",children:[]},{value:"What will happen to Flashbots after The Merge?",id:"what-will-happen-to-flashbots-after-the-merge",children:[]},{value:"Do I need authentication to access the Flashbots Relay?",id:"do-i-need-authentication-to-access-the-flashbots-relay",children:[]},{value:"Why am I getting rate limited by the relay?",id:"why-am-i-getting-rate-limited-by-the-relay",children:[]},{value:"How does searcher reputation work?",id:"how-does-searcher-reputation-work",children:[]},{value:"Are you on any testnets?",id:"are-you-on-any-testnets",children:[]},{value:"How do I target a timestamp range instead of a block number when submitting a bundle?",id:"how-do-i-target-a-timestamp-range-instead-of-a-block-number-when-submitting-a-bundle",children:[]},{value:"Can I submit directly to the sendBundle method without using the library?",id:"can-i-submit-directly-to-the-sendbundle-method-without-using-the-library",children:[]},{value:"What is block.coinbase?",id:"what-is-blockcoinbase",children:[]},{value:"Do I need ETH in my account to pay block.coinbase to the Flashbots miner?",id:"do-i-need-eth-in-my-account-to-pay-blockcoinbase-to-the-flashbots-miner",children:[]},{value:"Can I pay my coinbase bribe in something else than ETH?",id:"can-i-pay-my-coinbase-bribe-in-something-else-than-eth",children:[]},{value:"Since this is a first-price sealed-bid auction, how do I know how much to bid for my bundle to win?",id:"since-this-is-a-first-price-sealed-bid-auction-how-do-i-know-how-much-to-bid-for-my-bundle-to-win",children:[]},{value:"Will you implement a way for several non-overlapping bundles to be accepted within the same block?",id:"will-you-implement-a-way-for-several-non-overlapping-bundles-to-be-accepted-within-the-same-block",children:[]},{value:"Where can I get data on past auctions and past blocks?",id:"where-can-i-get-data-on-past-auctions-and-past-blocks",children:[]},{value:"When miners select bundles, are they differentiating between transfers to the coinbase and the gas fees to select which bundle is valid for inclusion?",id:"when-miners-select-bundles-are-they-differentiating-between-transfers-to-the-coinbase-and-the-gas-fees-to-select-which-bundle-is-valid-for-inclusion",children:[]},{value:"Can I simulate my bundle against historical blocks to backtest them?",id:"can-i-simulate-my-bundle-against-historical-blocks-to-backtest-them",children:[]},{value:"Can bundle simulations take into account state changes from an earlier transaction in the bundle? Eg. say first TX is buying the tokens, second is selling.",id:"can-bundle-simulations-take-into-account-state-changes-from-an-earlier-transaction-in-the-bundle-eg-say-first-tx-is-buying-the-tokens-second-is-selling",children:[]},{value:"Can I estimate gas used of the bundle beforehand?",id:"can-i-estimate-gas-used-of-the-bundle-beforehand",children:[]},{value:"How does MEV-Geth work when it receives bundles?",id:"how-does-mev-geth-work-when-it-receives-bundles",children:[]},{value:"What are mega bundles?",id:"what-are-mega-bundles",children:[]},{value:"Can I use a contract to tip ETH to the miner?",id:"can-i-use-a-contract-to-tip-eth-to-the-miner",children:[]},{value:"Can I deploy contracts using MEV?",id:"can-i-deploy-contracts-using-mev",children:[]},{value:"Why didn&#39;t my transaction get included?",id:"why-didnt-my-transaction-get-included",children:[]},{value:"What do I need to change in my bot aside from using the sendBundle to submit transactions?",id:"what-do-i-need-to-change-in-my-bot-aside-from-using-the-sendbundle-to-submit-transactions",children:[]},{value:"Can I have a running bundle which I constantly update whenever I find a new trade? Essentially I want to continuously update my bunle until the next block arrives.",id:"can-i-have-a-running-bundle-which-i-constantly-update-whenever-i-find-a-new-trade-essentially-i-want-to-continuously-update-my-bunle-until-the-next-block-arrives",children:[]},{value:"Where can I view the health status of Flashbots&#39; infrastructure?",id:"where-can-i-view-the-health-status-of-flashbots-infrastructure",children:[]},{value:"How will sending bundles change in PoS Ethereum?",id:"how-will-sending-bundles-change-in-pos-ethereum",children:[]},{value:"How do I choose a good block builder?",id:"how-do-i-choose-a-good-block-builder",children:[]},{value:"How are \u201crelays\u201d defined in PoS Ethereum?",id:"how-are-relays-defined-in-pos-ethereum",children:[]},{value:"Can I be a block builder? How?",id:"can-i-be-a-block-builder-how",children:[]},{value:"What trust assumptions exist in proposer-builder separation (PBS)?",id:"what-trust-assumptions-exist-in-proposer-builder-separation-pbs",children:[]},{value:"Will the mempool change in PoS Ethereum?",id:"will-the-mempool-change-in-pos-ethereum",children:[]}],u={toc:c};function d(e){var t=e.components,a=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Check Flashbots Discord ",(0,i.kt)("a",{parentName:"em",href:"https://discord.com/invite/7hvTycdNcK"},"#release")," channel for the latest releases.")),(0,i.kt)("p",null,"Don't see your question answered? Join our dedicated ",(0,i.kt)("a",{parentName:"p",href:"https://discord.com/invite/7hvTycdNcK"},"#\ud83e\udd16searchers")," channel on Discord and be sure to check out our ",(0,i.kt)("a",{parentName:"p",href:"https://collective.flashbots.net/c/searchers/12"},"Searchers Self Support Group"),"!"),(0,i.kt)("h3",{id:"what-is-flashbots-auction"},"What is Flashbots Auction?"),(0,i.kt)("p",null,"Flashbots Auction is a permissionless, transparent, and fair ecosystem for efficient MEV extraction and frontrunning protection which preserves the ideals of Ethereum. Flashbots Auction provides a private communication channel between Ethereum users and miners for efficiently communicating preferred transaction order within a block. See the full ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/overview"},"Flashbots Auction overview"),"."),(0,i.kt)("h3",{id:"who-is-behind-flashbots-auction"},"Who is behind Flashbots Auction?"),(0,i.kt)("p",null,"Flashbots Auction is built by the Flashbots crew. We are a research and development organization working on solving the problems MEV causes to state-rich blockchains. You can find out more about the organization on our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/pm"},"pm repo")," and in this introductory ",(0,i.kt)("a",{parentName:"p",href:"https://medium.com/flashbots/frontrunning-the-mev-crisis-40629a613752"},"Medium post")," that details our values and motives."),(0,i.kt)("h3",{id:"how-is-flashbots-funded"},"How is Flashbots funded?"),(0,i.kt)("p",null,"The Flashbots organization is funded by long term capital partners with a track record of alignment with the ecosystem. Our current capital partner is ",(0,i.kt)("a",{parentName:"p",href:"https://www.paradigm.xyz"},"Paradigm"),"."),(0,i.kt)("h3",{id:"what-is-the-flashbots-auction-roadmap"},"What is the Flashbots Auction roadmap?"),(0,i.kt)("p",null,"See the latest progress on our ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/overview#roadmap"},"roadmap"),"."),(0,i.kt)("h3",{id:"where-can-i-submit-a-feature-request"},"Where can I submit a feature request?"),(0,i.kt)("p",null,"In the Flashbots Forums ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/pm/discussions"},"Discussions section"),"."),(0,i.kt)("h3",{id:"can-you-give-a-step-by-step-description-of-how-flashbots-works-for-a-searcher-today"},"Can you give a step by step description of how Flashbots works for a searcher today?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Searchers send Flashbots \"bundles\" to MEV-Relay. A bundle contains one or several transactions that can be the trader's and/or other users' pending transactions from the mempool, and fees for a bundle can be paid by the searcher via a smart contract call to ",(0,i.kt)("inlineCode",{parentName:"li"},"block.coinbase.transfer()")),(0,i.kt)("li",{parentName:"ul"},"Moreover, bundles have these properties:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Flashbots bundles will always be at the top slot of the block"),(0,i.kt)("li",{parentName:"ul"},"Bundles cannot be 'broken up' into multiple transactions. All transactions in a bundle must be included together. (Note: we cannot prevent your bundle from being included in an uncle or a chain reorg)"))),(0,i.kt)("li",{parentName:"ul"},"MEV-Relay receives bundles and sends them to all whitelisted miners running MEV-Geth"),(0,i.kt)("li",{parentName:"ul"},"Miners receive Flashbots bundles from MEV-Relay and process them in MEV-Geth"),(0,i.kt)("li",{parentName:"ul"},"MEV-Geth picks the most profitable combination of bundles out of all bundles it is sent."),(0,i.kt)("li",{parentName:"ul"},"MEV-Geth then compares the block that includes these bundles with a vanilla block that does not include any bundles. If it is more profitable to include a bundle, or multiple ones, MEV-Geth will do so, but otherwise it will default back to a vanilla Geth block."),(0,i.kt)("li",{parentName:"ul"},"Only when the searcher's bundle is included in a block then the tip associated with their bundle is paid.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"If a bundle is not included it does not cost the searcher anything (i.e. no gas fees are paid for failed transactions)")))),(0,i.kt)("h3",{id:"why-use-flashbots-auction"},"Why use Flashbots Auction?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"It allows searchers to bypass the Ethereum mempool and avoid their strategy leaking before it is mined on-chain (e.g. being frontrun by generalized frontrunners)."),(0,i.kt)("li",{parentName:"ul"},"It allows searchers to save money from avoiding paying gas fees for failed transactions."),(0,i.kt)("li",{parentName:"ul"},"It allows miners to receive additional revenue in the form of the bundle tip in exchange for including the most profitable bundle in the block they mined."),(0,i.kt)("li",{parentName:"ul"},"It reduces Ethereum network congestion and lowers Ethereum network transaction fees.")),(0,i.kt)("h3",{id:"how-much-hashrate-is-currently-on-flashbots-auction"},"How much hashrate is currently on Flashbots Auction?"),(0,i.kt)("p",null,"The mining pools running MEV-geth collectively account for over 85.5% of total Ethereum hashrate."),(0,i.kt)("h3",{id:"can-i-send-bundles-directly-to-miners-without-going-through-the-relay"},"Can I send bundles directly to miners without going through the Relay?"),(0,i.kt)("p",null,"Using the Flashbots Relay is required during the alpha to aggregate bundle requests from all users, prevent spam and DOS attacks on participating miner(s)/mining pool(s), and collect necessary system health metrics. We are working to remove this requirement in future releases of Flashbots Auction. See the trust assumptions of the ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/overview#trust-assumptions"},"Flashbots Alpha"),"."),(0,i.kt)("h3",{id:"where-are-the-relay-servers-located"},"Where are the Relay servers located?"),(0,i.kt)("p",null,"They are currently in US-East-2 (Ohio) but we are thinking of turning them into a lambda that runs globally."),(0,i.kt)("h3",{id:"what-are-examples-of-flashbots-transactions"},"What are examples of Flashbots transactions?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Here is an example of a Flashbots bundle with a single transaction:\n",(0,i.kt)("a",{parentName:"li",href:"https://etherscan.io/tx/0x5e1657ef0e9be9bc72efefe59a2528d0d730d478cfc9e6cdd09af9f997bb3ef4"},"https://etherscan.io/tx/0x5e1657ef0e9be9bc72efefe59a2528d0d730d478cfc9e6cdd09af9f997bb3ef4"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Here is an example of a Flashbots bundle with 3 transactions:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"tx #1: ",(0,i.kt)("a",{parentName:"li",href:"https://etherscan.io/tx/0xab16c4a7dbb403f45b8cd76945d25138d3c9728ece18959eb0c551d6653018d7"},"https://etherscan.io/tx/0xab16c4a7dbb403f45b8cd76945d25138d3c9728ece18959eb0c551d6653018d7")),(0,i.kt)("li",{parentName:"ul"},"tx #2: ",(0,i.kt)("a",{parentName:"li",href:"https://etherscan.io/tx/0x89e47b1d61dbbaaee5669fe1dd783fa0564f380eda47df39e4053bccaa057714"},"https://etherscan.io/tx/0x89e47b1d61dbbaaee5669fe1dd783fa0564f380eda47df39e4053bccaa057714")),(0,i.kt)("li",{parentName:"ul"},"tx #3: ",(0,i.kt)("a",{parentName:"li",href:"https://etherscan.io/tx/0x9683e160bdf8628c294bf999c874cddff37254eccc0e486dbe2271531b064178"},"https://etherscan.io/tx/0x9683e160bdf8628c294bf999c874cddff37254eccc0e486dbe2271531b064178"))))),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://hackmd.io/_uploads/Sy1Lj2pX_.png",alt:null}),"\n",(0,i.kt)("em",{parentName:"p"},"Red line indicates where the bundle is")),(0,i.kt)("h3",{id:"what-level-of-transparency-do-you-provide-into-how-this-infrastructure-works"},"What level of transparency do you provide into how this infrastructure works?"),(0,i.kt)("p",null,"With the exception of MEV-Relay which is now closed source, MEV-Geth and all the code searchers interact with is open-source and documented on our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots"},"Github repos"),". In addition, we publish monthly ",(0,i.kt)("a",{parentName:"p",href:"https://medium.com/flashbots/tagged/transparency-report"},"transparency reports"),"."),(0,i.kt)("p",null,"We've also released a publicly accessible API ",(0,i.kt)("a",{parentName:"p",href:"https://blocks.flashbots.net"},"blocks.flashbots.net")," for displaying Flashbots blocks and txs, and will be releasing live data visualizations useful in the coming weeks."),(0,i.kt)("h3",{id:"can-flashbots-auction-be-used-concurrently-with-the-regular-ethereum-tx-pool"},"Can Flashbots Auction be used concurrently with the regular Ethereum tx pool?"),(0,i.kt)("p",null,"Yes! As a searcher you want to maximize the hashrate you're exposed to and there is no reason you can't submit your trades to Flashbots and another system in parallel. One could also imagine a dual system that submits txs to both the traditional Ethereum mempool and Flashbots, with bot logic conditional on one or the other landing."),(0,i.kt)("h3",{id:"is-flashbots-auction-a-race-to-maximize-miners-profits-and-minimize-searcher-profits"},"Is Flashbots Auction a race to maximize miners profits and minimize searcher profits?"),(0,i.kt)("p",null,"Flashbots Auction uses a first-price sealed-bid auction mechanism for allocating blockspace. This mechanism is designed to perform price discovery for an oportunity with minimal negative externalities."),(0,i.kt)("p",null,'We expect searcher who focus on finding "new alpha" to be able to keep the majority of the profits, while searchers who target competitive opportunities will need to give the majority of profits to miners in order to win the auction.'),(0,i.kt)("p",null,"See the overview for more information on the ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/overview#how-does-it-work"},"auction mechanism"),"."),(0,i.kt)("h3",{id:"what-will-happen-to-flashbots-after-the-merge"},"What will happen to Flashbots after The Merge?"),(0,i.kt)("p",null,"[to update]"),(0,i.kt)("h3",{id:"do-i-need-authentication-to-access-the-flashbots-relay"},"Do I need authentication to access the Flashbots Relay?"),(0,i.kt)("p",null,"The Flashbots Relay expects payloads to be signed using a standard Ethereum private key. This relay signing address does not need to be given to Flashbots in advance, and it does not need to store any ETH or other assets (and we recommend it does not and it should be a different key from your bot's EOA key)."),(0,i.kt)("p",null,"The signature needs to be provided via the 'X-Flashbots-Signature' Header. Reference implementation can be found in the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/ethers-provider-flashbots-bundle/blob/9e039cc92fcaa3d15e71f11faa7acf4f4f0674fa/src/index.ts#L307-L310"},"Flashbots Ethers Provider")),(0,i.kt)("h3",{id:"why-am-i-getting-rate-limited-by-the-relay"},"Why am I getting rate limited by the relay?"),(0,i.kt)("p",null,"Rate limiting is currently in place to protect the relay infrastructure from DOS attacks. Similar to how Infura has a gas limit on eth_call. Rate limiting may be removed in the future for searchers who have accumulated good reputation."),(0,i.kt)("h3",{id:"how-does-searcher-reputation-work"},"How does searcher reputation work?"),(0,i.kt)("p",null,"By signing payloads with your own relay signing key, this will enable building a reputation for high-priority delivery of your bundles to miners. The Flashbots Relay simulates bundles before sending to miners which can take a small amount of time. The relay cannot determine which bundles are profitable without performing a full simulation. This signing key allows the relay to infer which bundles are likely profitable, based on historical performance. Using a reputation system allows reliable searchers to be rewarded for good performance while still allowing new searchers to participate."),(0,i.kt)("p",null,"You can query the relay to obtain an understanding of your ",(0,i.kt)("a",{parentName:"p",href:"https://docs.flashbots.net/flashbots-auction/miners/mev-relay#flashbots_getuserstats"},"reputation score"),"."),(0,i.kt)("h3",{id:"are-you-on-any-testnets"},"Are you on any testnets?"),(0,i.kt)("p",null,"Yes, we are on Goerli. See this ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/searchers/advanced/goerli-testnet"},"guide")," for more information."),(0,i.kt)("h3",{id:"how-do-i-target-a-timestamp-range-instead-of-a-block-number-when-submitting-a-bundle"},"How do I target a timestamp range instead of a block number when submitting a bundle?"),(0,i.kt)("p",null,"The best way to do this is to submit one bundle for each block in a range of blocks that is likely to contain the first block with a block.timestamp greater than the target timestamp."),(0,i.kt)("p",null,"You ",(0,i.kt)("strong",{parentName:"p"},"do")," need to submit a bundle per target block. You can re-submit the exact same signed transaction bundle; you don't need to re-sign. A more flexible API will be released soon to make this more efficient."),(0,i.kt)("p",null,"You can ALSO provide a minimum/maximum timestamp in the bundle, but this only provides a hint to discard the block if it falls outside this time range. It does not expand the target outside the single indicated block number, and it does not change the timestamp selected by the miner."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"0,0 timestamp means no restriction")),(0,i.kt)("h3",{id:"can-i-submit-directly-to-the-sendbundle-method-without-using-the-library"},"Can I submit directly to the sendBundle method without using the library?"),(0,i.kt)("p",null,"Please see the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/ethers-provider-flashbots-bundle"},"reference implementation"),", in particular how signing is done in order to be processed by the Relay."),(0,i.kt)("h3",{id:"what-is-blockcoinbase"},"What is block.coinbase?"),(0,i.kt)("p",null,"Block.coinbase is a standard Solidity function that gives the current block miner\u2019s address. Read more about it ",(0,i.kt)("a",{parentName:"p",href:"https://docs.soliditylang.org/en/v0.8.4/units-and-global-variables.html#block-and-transaction-properties"},"here"),"."),(0,i.kt)("h3",{id:"do-i-need-eth-in-my-account-to-pay-blockcoinbase-to-the-flashbots-miner"},"Do I need ETH in my account to pay block.coinbase to the Flashbots miner?"),(0,i.kt)("p",null,"No, you can pay the miner with the profit of your bundle if it lands on-chain. This allows for account abstraction - something explained ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/pm/issues/24"},"here")," in further details."),(0,i.kt)("h3",{id:"can-i-pay-my-coinbase-bribe-in-something-else-than-eth"},"Can I pay my coinbase bribe in something else than ETH?"),(0,i.kt)("p",null,"Unfortunately not at the current moment."),(0,i.kt)("h3",{id:"since-this-is-a-first-price-sealed-bid-auction-how-do-i-know-how-much-to-bid-for-my-bundle-to-win"},"Since this is a first-price sealed-bid auction, how do I know how much to bid for my bundle to win?"),(0,i.kt)("p",null,"The lower bound on a successfully mined Flashbots bundle is the block tail gas price since the 'tail' of the block, and its transactions, will be pushed out to make room for a Flashbots bundle of transactions. This is what the miner's software will compare against when deciding whether to mine a Flashbots block or the vanilla Geth block."),(0,i.kt)("p",null,"If you have no competition for that block, then any tip above the lower bound will get you included (modulo hashrate). If other searchers are going for the same block, you have to pay the highest tip of conflicting bundles for your bundle to be selected. We suggest you look at past data for other bids to get an idea of the average bid sizes and encourage you to check the ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/searchers/advanced/bundle-pricing"},"bundle pricing section")," in advanced concepts."),(0,i.kt)("h3",{id:"will-you-implement-a-way-for-several-non-overlapping-bundles-to-be-accepted-within-the-same-block"},"Will you implement a way for several non-overlapping bundles to be accepted within the same block?"),(0,i.kt)("p",null,"Yes, bundle merging is introduced in the ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/releases/alpha-v0.2"},"alpha-v0.2 release"),"."),(0,i.kt)("h3",{id:"where-can-i-get-data-on-past-auctions-and-past-blocks"},"Where can I get data on past auctions and past blocks?"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://blocks.flashbots.net"},"blocks.flashbots.net")),(0,i.kt)("h3",{id:"when-miners-select-bundles-are-they-differentiating-between-transfers-to-the-coinbase-and-the-gas-fees-to-select-which-bundle-is-valid-for-inclusion"},"When miners select bundles, are they differentiating between transfers to the coinbase and the gas fees to select which bundle is valid for inclusion?"),(0,i.kt)("p",null,"Nope!"),(0,i.kt)("h3",{id:"can-i-simulate-my-bundle-against-historical-blocks-to-backtest-them"},"Can I simulate my bundle against historical blocks to backtest them?"),(0,i.kt)("p",null,"Yes, but only for dates after March 12th since the Relay is running with partial archive nodes. This means you can simulate blocks >= 12030000. This range will be extended shortly."),(0,i.kt)("h3",{id:"can-bundle-simulations-take-into-account-state-changes-from-an-earlier-transaction-in-the-bundle-eg-say-first-tx-is-buying-the-tokens-second-is-selling"},"Can bundle simulations take into account state changes from an earlier transaction in the bundle? Eg. say first TX is buying the tokens, second is selling."),(0,i.kt)("p",null,"Yep!"),(0,i.kt)("h3",{id:"can-i-estimate-gas-used-of-the-bundle-beforehand"},"Can I estimate gas used of the bundle beforehand?"),(0,i.kt)("p",null,"Yes. You'll want to simulate with a 'fake' tip, like 1 wei, then see how much gas it uses, then change the tip."),(0,i.kt)("h3",{id:"how-does-mev-geth-work-when-it-receives-bundles"},"How does MEV-Geth work when it receives bundles?"),(0,i.kt)("p",null,"[to update]"),(0,i.kt)("h3",{id:"what-are-mega-bundles"},"What are mega bundles?"),(0,i.kt)("p",null,"[to update]"),(0,i.kt)("h3",{id:"can-i-use-a-contract-to-tip-eth-to-the-miner"},"Can I use a contract to tip ETH to the miner?"),(0,i.kt)("p",null,"You can pay miners either via gas or by sending ETH to their coinbase.\nIt's best to pay via block.coinbase transfer to prevent the inclusion of your bundle when you miss (i.e. you remove the miner incentive of inclusion on a miss) and to protect yourself from re-orgs."),(0,i.kt)("h3",{id:"can-i-deploy-contracts-using-mev"},"Can I deploy contracts using MEV?"),(0,i.kt)("p",null,"Yes, you can pay the block.coinbase fee in the constructor or you can pay the block.coinbase fee in a separate tx after your contract creation.\nCrucially, you don't need to deploy a new contract to include block.coinbase.transfer in the contract function, one already exists ",(0,i.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0xc4595e3966e0ce6e3c46854647611940a09448d3"},"FLashbotsCheckAndSend"),"."),(0,i.kt)("h3",{id:"why-didnt-my-transaction-get-included"},"Why didn't my transaction get included?"),(0,i.kt)("p",null,"See our ",(0,i.kt)("a",{parentName:"p",href:"/flashbots-auction/searchers/advanced/troubleshooting"},"Searcher Troubleshooting Guide")),(0,i.kt)("h3",{id:"what-do-i-need-to-change-in-my-bot-aside-from-using-the-sendbundle-to-submit-transactions"},"What do I need to change in my bot aside from using the sendBundle to submit transactions?"),(0,i.kt)("p",null,"To get the full benefit of using Flashbots, it is worth considering the benefits of transitioning from priority fee payment (e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"priorityFee * gasUsed"),") to coinbase payments. As of EIP-1559, you can no longer use ",(0,i.kt)("inlineCode",{parentName:"p"},"0-gas-price")," transactions, but you CAN use ",(0,i.kt)("inlineCode",{parentName:"p"},"0-priority-fee")," transactions, combined with custom functionality to your on-chain code to pay ",(0,i.kt)("inlineCode",{parentName:"p"},"block.coinbase.transfer()")," based on the reward intended for the miner."),(0,i.kt)("p",null,"Using ",(0,i.kt)("inlineCode",{parentName:"p"},"0-priority-fee")," has several important benefits:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Allows you to keep less ETH in your bot's ",(0,i.kt)("inlineCode",{parentName:"li"},"EOA")," account (less at risk on a hot address, smaller capital requirements)"),(0,i.kt)("li",{parentName:"ul"},"Can pay miner out of proceeds of the opportunity, which could be more ETH than you have on hand!"),(0,i.kt)("li",{parentName:"ul"},"Can dynamically adjust to size of opportunity on-chain"),(0,i.kt)("li",{parentName:"ul"},"If your bot's transaction is leaked or ",(0,i.kt)("inlineCode",{parentName:"li"},"uncle"),"d, there is no incentive to a miner to include your transaction later unless it succeeds. ",(0,i.kt)("inlineCode",{parentName:"li"},"uncle"),"d transactions that use a priority fee will still land on chain and cost your ",(0,i.kt)("inlineCode",{parentName:"li"},"EOA")," ETH, even when the opportunity was missed.")),(0,i.kt)("p",null,"This coinbase transfer amount can be determined in the middle of your contract logic or could come from a calldata argument or some  percentage of the overall opportunity calculated on-chain. We recommend using calldata for specifying the reward in order to quickly react to fluctuations in competing Flashbots bundle prices."),(0,i.kt)("h3",{id:"can-i-have-a-running-bundle-which-i-constantly-update-whenever-i-find-a-new-trade-essentially-i-want-to-continuously-update-my-bunle-until-the-next-block-arrives"},"Can I have a running bundle which I constantly update whenever I find a new trade? Essentially I want to continuously update my bunle until the next block arrives."),(0,i.kt)("p",null,"Your previous bundle is dropped if the new bundle is more valuable."),(0,i.kt)("h3",{id:"where-can-i-view-the-health-status-of-flashbots-infrastructure"},"Where can I view the health status of Flashbots' infrastructure?"),(0,i.kt)("p",null,"Status is reported at ",(0,i.kt)("a",{parentName:"p",href:"https://status.flashbots.net/"},"https://status.flashbots.net/"),". Please check this link for any network outages or downtime."),(0,i.kt)("h3",{id:"how-will-sending-bundles-change-in-pos-ethereum"},"How will sending bundles change in PoS Ethereum?"),(0,i.kt)("p",null,"Sending bundles will feel very much the same as it does with Flashbots PoW Ethereum infrastructure. You\u2019ll still be able to send & simulate atomic bundles, and use the same bidding strategies in the blockspace/MEV auction."),(0,i.kt)("p",null,"The real difference is in the backend architecture."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"relay.flashbots.net")," (where bundles are sent in PoW Ethereum) will send bundles to the Flashbots builder after the merge. On the searcher side, the method for sending bundles to flashbots doesn\u2019t change at all. All Flashbots relay endpoints from PoW Ethereum will be the same post-merge."),(0,i.kt)("p",null,"With PBS, you may want to send bundles to more builders than just Flashbots. Other builders will need to implement their own version of this bundle relay to accept bundles, but as long as other builders adhere to the same API specification as Flashbots, you can use existing Flashbots client libraries to interact with these builders."),(0,i.kt)("h3",{id:"how-do-i-choose-a-good-block-builder"},"How do I choose a good block builder?"),(0,i.kt)("p",null,"There are a few criteria to look for in a block builder:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Are they committed to fair and unbiased execution?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"A good builder will not front-run, sandwich or censor bundles, or otherwise engage in activities that abuse privileged data access."))),(0,i.kt)("li",{parentName:"ul"},"Do they connect to a trusted relay?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Keep in mind that the relay can also see raw transactions, which gives them the ability to front-run, censor, etc."))),(0,i.kt)("li",{parentName:"ul"},"Does their relay connect to enough validators?",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The more validators a relay connects to, the more slots will generally be available for builders connected to that relay. When you\u2019re targeting a specific block/slot, it\u2019s imperative that you send your transactions to a builder which is connected to the validator responsible for proposing a block in that slot. More validators \u21d2 better inclusion rates."),(0,i.kt)("li",{parentName:"ul"},"Note: Any validator can ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/flashbots/mev-boost#usage"},"use mev-boost to connect to the Flashbots relay and other relays"),"."),(0,i.kt)("li",{parentName:"ul"},"It\u2019s also worth considering how much collective stake the validators connected to a relay have. Generally speaking, if more than one block is proposed to the network (unusual but possible), the block with the most collective stake attesting to it will be included. This scenario is explained in greater detail in the ",(0,i.kt)("a",{parentName:"li",href:"https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/#fork-choice"},"Ethereum docs"),".")))),(0,i.kt)("p",null,"Also note that block builders have the freedom to specialize. You may find that one builder is more or less friendly to your strategy than others. Builders are competing with each other, so they are all incentivized to include your bundles in their blocks, but you may find that some builders will prioritize certain strategies over others regardless of potential profits. Builders might also censor certain bundles due to local regulations or corporate strategies and policies. There are a lot of variables in play here, so I recommend trying a few trusted builders and seeing how your mileage varies first-hand."),(0,i.kt)("p",null,"Flashbots will run a builder that follows the same principles we\u2019ve adhered to in PoW Ethereum: democratized access to MEV, fair & reliable execution, and privacy."),(0,i.kt)("h3",{id:"how-are-relays-defined-in-pos-ethereum"},"How are \u201crelays\u201d defined in PoS Ethereum?"),(0,i.kt)("p",null,'Before the merge, mev-relay (commonly referred to as "the relay")  was responsible for accepting bundles from searchers and relaying them to miners.'),(0,i.kt)("p",null,'After the merge, the term "relay" will mean something entirely different. ',(0,i.kt)("em",{parentName:"p"},"These")," relays are a component of PBS -- they're responsible for escrowing blocks from builders for validators. With mev-boost, validators choose the most profitable block from a number of relays. Each relay keeps the contents of a block private until the validator commits to proposing it to the network for inclusion."),(0,i.kt)("p",null,"Specifically, relays do the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"accept new blocks from builders"),(0,i.kt)("li",{parentName:"ul"},"send header of most profitable block to a validator upon request",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"the validator locks in their commitment to propose the full block by signing this header")))),(0,i.kt)("li",{parentName:"ul"},"send full block to validator after receiving block header signed by the validator"),(0,i.kt)("li",{parentName:"ul"},"perform all of this quickly and reliably, so that validators don\u2019t miss proposal deadlines")),(0,i.kt)("p",null,"For a deeper explanation of mev-boost and relays, Check out @thegostep\u2019s ",(0,i.kt)("em",{parentName:"p"},(0,i.kt)("a",{parentName:"em",href:"https://ethresear.ch/t/mev-boost-merge-ready-flashbots-architecture/11177"},"ethresear.ch post")),"."),(0,i.kt)("p",null,"For more information about how bundles are sent post-merge, see ",(0,i.kt)("a",{parentName:"p",href:"https://collective.flashbots.net/t/how-will-sending-bundles-change-in-pos-ethereum/147"},"this forum post"),"."),(0,i.kt)("h3",{id:"can-i-be-a-block-builder-how"},"Can I be a block builder? How?"),(0,i.kt)("p",null,"mev-boost provides the foundation for a competitive market of block builders, each trying to provide the most profitable block to validators. Naturally, some searchers should want to become builders themselves. We expect there to be multiple relays in the future with varying requirements on who can submit blocks to them and how those blocks can be submitted. We are currently working on the rules for how the Flashbots Relay for mev-boost will accept blocks from builders."),(0,i.kt)("p",null,"If you are interested in becoming a builder or just want to learn more, check out ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/flashbots/mev-boost/issues/145"},"this issue on mev-boost"),"."),(0,i.kt)("h3",{id:"what-trust-assumptions-exist-in-proposer-builder-separation-pbs"},"What trust assumptions exist in proposer-builder separation (PBS)?"),(0,i.kt)("p",null,"In this initial implementation of PBS (mev-boost), to prevent things like front-running, censorship, and unauthorized data sharing, each party has to trust the parties to which they connect. When PBS is ",(0,i.kt)("a",{parentName:"p",href:"https://ethresear.ch/t/two-slot-proposer-builder-separation/10980"},"built natively")," into the Ethereum protocol, these trust assumptions will be reduced by eliminating the need for relays."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Searchers have to trust the builder(s) to which they send bundles."),(0,i.kt)("p",{parentName:"li"},"Builders may be the most incentivized to ",(0,i.kt)("del",{parentName:"p"},"use")," abuse your transactions to extract additional MEV. As a searcher, you must find a builder with reputation at stake, so you can trust that they won\u2019t take short-term profits in favor of your continued bundle submissions.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Builders have to trust the relay to which they send blocks."),(0,i.kt)("p",{parentName:"li"},"For background on relays, see ",(0,i.kt)("a",{parentName:"p",href:"https://collective.flashbots.net/t/how-are-relays-defined-in-pos-ethereum/148"},"this post"),"."),(0,i.kt)("p",{parentName:"li"},"Of course, block builders have to trust that relays won\u2019t leak transaction data or use it to extract additional MEV (secretly building blocks themselves). But the other major consideration is that the relay has to respond to the validator\u2019s requests quickly, so that the validator does not miss the chance to propose a builder\u2019s block. If the validator misses the slot, the builder of the most profitable block which would have been proposed loses out on their profits as well.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Validators have to trust the relay(s) from which they receive blocks."),(0,i.kt)("p",{parentName:"li"},"A strictly rational validator won\u2019t care if a relay abuses their transaction view and extracts unfair MEV, as this is actually more profitable for the validator. That being said, if a relay abuses its power, it won\u2019t last for long."),(0,i.kt)("p",{parentName:"li"},"For validators, the performance of the relay is paramount. Validators must trust that the relay(s) they connect to will respond to their requests quickly and reliably. If the relay does not respond in time, a validator may miss their window to include a block in the next slot, and will not earn any rewards for their participation."))),(0,i.kt)("p",null,"Read more about the trust assumptions of mev-boost-enabled PBS in ",(0,i.kt)("a",{parentName:"p",href:"https://ethresear.ch/t/mev-boost-merge-ready-flashbots-architecture/11177"},"Stephane\u2019s research post"),"."),(0,i.kt)("h3",{id:"will-the-mempool-change-in-pos-ethereum"},"Will the mempool change in PoS Ethereum?"),(0,i.kt)("p",null,"The public mempool works the same in PoS as in PoW \u2014 anyone running an execution client (e.g. geth) can read transactions from the mempool."),(0,i.kt)("p",null,"It should be noted, however, that the post-merge public mempool may not see as much activity as it does today. With PBS, users and wallets may choose to send all of their transactions to a specific builder (or builders) rather than to the public mempool."))}d.isMDXComponent=!0}}]);